<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><base href="/"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><link rel="stylesheet" href="design/index.css"><title>Setting Up Request Routing | Hitchy</title></head><body class="page"><div id="wrapper"><div id="north"><div class="navigation"><nav class="primary center-block"><ul><li class="item"><a href="">Home</a></li><li class="item"><a href="about/">About</a></li><li class="item"><a href="download/">Download</a></li><li class="item"><a href="getting-started/">Getting Started</a></li><li class="item"><a href="concepts/">Concepts</a></li><li class="item"><a href="runtime/">At Runtime</a></li><li class="selected item"><a href="extensions/">Extensions</a></li></ul><div class="boilerplate"><div class="site-title">Hitchy</div><div class="site-subtitle">a Javascript-based web application framework</div></div></nav></div><div class="center-block"><h1>Setting Up Request Routing</h1></div></div><div id="main"><div class="columnizer"><div id="core"><article class="center-block"><h3 id="routes-and-policies"><a href="#routes-and-policies" class="headerlink" title="routes and policies"></a><code>routes</code> and <code>policies</code></h3><p>After initializing extension and gaining access on backends to be available through some extension it is time to declare routes mapping incoming requests onto controllers for generating proper responses.</p>
<p>Every extension may provide one or two separate maps for matching incoming requests and select method in controller or policy to process the request. First map is for policy routing and is given in API property <code>policies</code>. The second one is regarding responder routing and is given in API property <code>routes</code>.</p>
<blockquote>
<p>Either map may be given literally (thus being defined on loading extension) or as a function complying with common module function pattern to generate map now. The latter case enables definition of routes depending on application’s actual context.</p>
</blockquote>
<h4 id="Profile"><a href="#Profile" class="headerlink" title="Profile"></a>Profile</h4><ul>
<li><strong>stage:</strong> router configuration</li>
<li><strong>purpose:</strong> <ul>
<li>(compile and) provide map of request URL patterns into selection of methods to invoke for filtering requests (<em>policies</em>) or for responding (<em>responders</em>)</li>
</ul>
</li>
<li><strong>knowledge:</strong><ul>
<li>Hitchy’s full API incl. core, configuration and elements</li>
<li>runtime options</li>
<li>collected information on current extension (incl. its folder, name, meta information and API)</li>
</ul>
</li>
<li><strong>processing order:</strong> dependency-based</li>
<li><strong>supported types:</strong> <ul>
<li>object</li>
<li><a href="concepts/common_patterns.html#Common-Module-Function-Pattern-CMFP">common module function pattern</a></li>
</ul>
</li>
</ul>
<h4 id="Important-Note-on-Routing"><a href="#Important-Note-on-Routing" class="headerlink" title="Important Note on Routing"></a>Important Note on Routing</h4><p>Request dispatching doesn’t obey order of routes given by single extension. Thus any extension shouldn’t rely on routes being processed the same way they are listed in source code, but carefully choose request URL patterns for uniquely matching. On one hand that’s due to improving organization of routes for fast processing. That’s way routing maps are organized as objects in javascript. On the other hand properties of objects can’t be enumerated in a reliable order. That’s due to specification for implementations of javascript engine.</p>
<p>Routes of different extensions are processed in dependency-based order of extensions.</p>
</article></div><div id="left"><nav class="sub navigation"><ul><li class="item"><a href="extensions/phases.html">Phases</a></li><li class="item"><a href="extensions/discovery.html">Discovery</a></li><li class="item"><a href="extensions/configuration.html">Configuration</a></li><li class="item"><a href="extensions/exposure.html">Exposure</a></li><li class="item"><a href="extensions/initialization.html">Initialization</a></li><li class="item selected"><a href="extensions/routing.html">Routing</a></li><li class="item"><a href="extensions/shutdown.html">Shutdown</a></li></ul></nav></div><div id="right"></div></div></div><div id="south"><div class="center-block"><div class="copyright">&copy; 2018 <a href="http://cepharum.de" target="_blank">cepharum GmbH</a></div> - <nav class="footer"><ul><li class="item"><a href="imprint/">Imprint</a></li></ul></nav> - <div class="timestamp">Last Update: March 11, 2018 2:15 PM</div></div></div></div><script type="text/javascript" src="js/fx.js"></script></body></html>